cache:
  paths:
    - .gradle
    - build

stages:
  - build

build:
  variables:
    GRADLE_OPTS: "-Dorg.gradle.daemon=false"
  stage: build
  image: gradle:7.5.1-jdk11-alpine
  script:
    - export GRADLE_USER_HOME="$(pwd)/.gradle"
    - gradle clean bootJar --build-cache

docker:
  stage: build
  image: hosppy/docker:alpine
  script:
    - docker build -t hosppy/svc .
